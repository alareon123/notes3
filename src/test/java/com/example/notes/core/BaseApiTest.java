package com.example.notes.core;

import org.junit.jupiter.api.BeforeAll;

/**
 * Базовый класс для всех API-тестов.
 *
 * ЗАЧЕМ НУЖЕН ЭТОТ КЛАСС:
 * Все тестовые классы наследуются от BaseApiTest, чтобы не дублировать код настройки.
 * Вместо того, чтобы в каждом тестовом классе писать метод setUp(), мы пишем его один раз здесь.
 *
 * ПАТТЕРН НАСЛЕДОВАНИЯ:
 * - BaseApiTest (базовый класс) - содержит общую настройку для всех тестов
 * - NotesApiTest extends BaseApiTest - наследует метод setUp()
 * - UserApiTest extends BaseApiTest - тоже наследует метод setUp()
 * - И так далее для всех тестовых классов
 *
 * ПРЕИМУЩЕСТВА:
 * 1. Код настройки написан только один раз
 * 2. Если нужно изменить настройку - меняем в одном месте
 * 3. Все тесты автоматически получают правильную конфигурацию
 *
 * ПРИМЕР ИСПОЛЬЗОВАНИЯ:
 * public class NotesApiTest extends BaseApiTest {
 *     // Тут сразу можно писать тесты, setUp() выполнится автоматически
 * }
 */
public class BaseApiTest {

    /**
     * Метод настройки, который выполняется ОДИН РАЗ перед всеми тестами в классе.
     *
     * АННОТАЦИЯ @BeforeAll:
     * - Выполняется один раз перед запуском всех тестов в классе
     * - Метод ДОЛЖЕН быть static (статическим)
     * - Используется для "тяжёлой" настройки, которую не нужно повторять перед каждым тестом
     *
     * АЛЬТЕРНАТИВЫ:
     * - @BeforeEach - выполняется перед КАЖДЫМ тестом (не static)
     * - @AfterAll - выполняется один раз после всех тестов (static)
     * - @AfterEach - выполняется после каждого теста (не static)
     *
     * ЧТО ПРОИСХОДИТ ВНУТРИ:
     * Вызывается метод Specs.setupRequestSpec(), который создаёт конфигурацию для REST-запросов.
     * Эта конфигурация будет использоваться во всех тестах.
     */
    @BeforeAll
    public static void setUp() {
        // Настраиваем спецификацию запросов для Rest-Assured
        // (базовый URL, формат JSON, логирование и т.д.)
        Specs.setupRequestSpec();
    }
}
